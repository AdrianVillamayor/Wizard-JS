{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@adrii_/wizard-js/dist/index.js","src/index.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"Wizard\",[],e):\"object\"==typeof exports?exports.Wizard=e():t.Wizard=e()}(this,(function(){return function(){\"use strict\";var t={d:function(e,s){for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return s}});var s=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options={wz_class:\".wizard\",wz_nav:\".wizard-nav\",wz_ori:\".horizontal\",wz_nav_style:\"dots\",wz_content:\".wizard-content\",wz_buttons:\".wizard-buttons\",wz_button:\".wizard-btn\",wz_button_style:\".btn\",wz_step:\".wizard-step\",wz_form:\".wizard-form\",wz_next:\".next\",wz_prev:\".prev\",wz_finish:\".finish\",wz_highlight:\".highlight-error\",bubbles:!1,nav:!0,buttons:!0,highlight:!0,current_step:0,steps:0,highlight_time:1e3,navigation:\"all\",next:\"Next\",prev:\"Prev\",finish:\"Submit\",highlight_type:{error:\"error\",warning:\"warning\",success:\"success\",info:\"info\"},i18n:{empty_wz:\"No item has been found with which to generate the Wizard.\",empty_nav:\"Nav does not exist or is empty.\",empty_content:\"Content does not exist or is empty.\",empty_html:\"Undefined or null content cannot be added.\",empty_update:\"Nothing to update.\",no_nav:\"Both the nav and the buttons are disabled, there is no navigation system.\",form_validation:\"One or more of the form fields are invalid.\",diff_steps:\"Discordance between the steps of nav and content.\",random:\"There has been a problem, check the configuration and use of the wizard.\",already_defined:\"This item is already defined\",title:\"Step\"},...t};const{wz_class:e,wz_nav:s,wz_ori:i,wz_nav_style:n,wz_content:r,wz_buttons:o,wz_button:a,wz_button_style:c,wz_step:h,wz_form:l,wz_next:u,wz_prev:d,wz_finish:p,wz_highlight:w,nav:_,buttons:b,highlight:z,highlight_time:v,highlight_type:m,current_step:f,steps:y,navigation:g,prev:S,next:E,finish:q,i18n:L,bubbles:k}=this.options;Object.assign(this,{wz_class:e,wz_nav:s,wz_ori:i,wz_nav_style:n,wz_content:r,wz_buttons:o,wz_button:a,wz_button_style:c,wz_step:h,wz_form:l,wz_next:u,wz_prev:d,wz_finish:p,wz_highlight:w,nav:_,buttons:b,highlight:z,highlight_time:v,highlight_type:m,current_step:f,steps:y,navigation:g,prev:S,next:E,finish:q,i18n:L,last_step:f,form:!1,locked:!1,locked_step:null})}init(){try{const t=document.querySelector(this.wz_class);if(!t)throw new Error(this.i18n.empty_wz);if(\"true\"===t.getAttribute(\"data-wz-load\"))return void console.warn(`${this.wz_class} : ${this.i18n.already_defined}`);const e=t;switch(this.buttons||this.nav||console.warn(this.i18n.no_nav),e.classList.add(this.wz_ori.replace(\".\",\"\")),\"FORM\"===e.tagName&&(this.form=!0),this.checkAndPrepare(e),this.navigation){case\"all\":case\"nav\":this.setNavEvent(),this.setBtnEvent();break;case\"buttons\":this.setBtnEvent()}e.style.display=e.classList.contains(\"vertical\")?\"flex\":\"block\",e.setAttribute(\"data-wz-load\",\"true\"),document.dispatchEvent(new CustomEvent(\"wz.ready\",{bubbles:this.bubbles,detail:{target:this.wz_class,elem:e}}))}catch(t){console.error(t)}}update(){const t=document.querySelector(this.wz_class);if(!t)throw new Error(this.i18n.empty_wz);if(\"true\"!==t.getAttribute(\"data-wz-load\"))throw new Error(this.i18n.empty_wz);this.checkAndPrepare(t),this.content_update=!1,t.dispatchEvent(new CustomEvent(\"wz.update\",{bubbles:this.bubbles,detail:{target:this.wz_class,elem:t}}))}reset(){this.setCurrentStep(0);const t=document.querySelector(this.wz_class),e=t.querySelector(this.wz_nav),s=t.querySelector(this.wz_content);if(this.buttons){const e=t.querySelector(this.wz_buttons),s=e.querySelector(`${this.wz_button}${this.wz_next}`),i=e.querySelector(`${this.wz_button}${this.wz_prev}`),n=e.querySelector(`${this.wz_button}${this.wz_finish}`);this.checkButtons(s,i,n)}if(this.nav){e.querySelectorAll(this.wz_step).forEach((t=>t.classList.remove(\"active\"))),e.querySelector(`${this.wz_step}[data-wz-step=\"${this.getCurrentStep()}\"]`).classList.add(\"active\")}s.querySelectorAll(this.wz_step).forEach((t=>t.classList.remove(\"active\"))),s.querySelector(`${this.wz_step}[data-wz-step=\"${this.getCurrentStep()}\"]`).classList.add(\"active\"),t.dispatchEvent(new Event(\"wz.reset\",{bubbles:this.bubbles}))}lock(){this.locked=!0,this.locked_step=this.getCurrentStep()}unlock(){this.locked=!1,this.locked_step=null,document.querySelector(this.wz_class).dispatchEvent(new Event(\"wz.unlock\",{bubbles:this.bubbles}))}prefabSteps(t,e,s){const i=this.getCurrentStep();t.forEach(((t,e)=>{t.setAttribute(\"data-wz-step\",e),this.nav&&s[e].setAttribute(\"data-wz-step\",e)})),this.nav&&(s.forEach((t=>t.classList.remove(\"active\"))),s[i].classList.add(\"active\"),e.classList.add(this.wz_nav_style)),t.forEach((t=>t.classList.remove(\"active\"))),t[i].classList.add(\"active\"),this.setButtons()}updateToForm(){const t=document.querySelector(this.wz_class),e=t.querySelector(this.wz_content);if(\"FORM\"!==e.tagName){const s=e.getAttribute(\"class\"),i=e.innerHTML;e.remove();const n=document.createElement(\"form\");n.setAttribute(\"method\",\"POST\"),n.setAttribute(\"class\",`${s} ${this.wz_form.replace(\".\",\"\")}`),n.innerHTML=i,t.appendChild(n)}}checkForm(){const t=document.querySelector(this.wz_class).querySelector(this.wz_content),e=t.querySelectorAll(this.wz_step)[this.getCurrentStep()].querySelectorAll(\"input, textarea, select\");return e.length>0?this.formValidator(t,e):{error:!1}}setNav(t){let e=t.querySelector(this.wz_nav);if(e&&this.nav&&(e.remove(),e=null),!e&&this.nav){const e=t.querySelector(this.wz_content).querySelectorAll(this.wz_step),s=document.createElement(\"aside\");s.classList.add(this.wz_nav.replace(\".\",\"\")),e.forEach(((t,e)=>{const i=document.createElement(\"div\"),n=t.getAttribute(\"data-wz-title\")||`${this.i18n.title} ${e}`;i.classList.add(this.wz_step.replace(\".\",\"\")),\"buttons\"===this.navigation&&i.classList.add(\"nav-buttons\");const r=document.createElement(\"span\");r.classList.add(\"dot\"),i.appendChild(r);const o=document.createElement(\"span\");o.innerHTML=n,i.appendChild(o),s.appendChild(i)})),t.prepend(s)}}setButtons(){const t=document.querySelector(this.wz_class);let e=t.querySelector(this.wz_buttons);if(e&&this.buttons&&(e.remove(),e=null),!e&&this.buttons){const e=document.createElement(\"aside\");e.classList.add(this.wz_buttons.replace(\".\",\"\"));const s=this.wz_button_style.replace(/\\./g,\"\").split(\" \"),i=document.createElement(\"button\");i.innerHTML=this.prev,i.classList.add(this.wz_button.replace(\".\",\"\"),...s,this.wz_prev.replace(\".\",\"\")),\"nav\"===this.navigation&&(i.style.display=\"none\"),e.appendChild(i);const n=document.createElement(\"button\");n.innerHTML=this.next,n.classList.add(this.wz_button.replace(\".\",\"\"),...s,this.wz_next.replace(\".\",\"\")),\"nav\"===this.navigation&&(n.style.display=\"none\"),e.appendChild(n);const r=document.createElement(\"button\");r.innerHTML=this.finish,r.classList.add(this.wz_button.replace(\".\",\"\"),...s,this.wz_finish.replace(\".\",\"\")),e.appendChild(r),this.checkButtons(n,i,r),t.appendChild(e)}}checkButtons(t,e,s){const i=this.getCurrentStep(),n=this.steps-1;0===i?e.setAttribute(\"disabled\",\"true\"):e.removeAttribute(\"disabled\"),i===n?(t.setAttribute(\"disabled\",\"true\"),s.style.display=\"block\"):(s.style.display=\"none\",t.removeAttribute(\"disabled\"))}checkAndPrepare(t){this.setNav(t);const e=t.querySelector(this.wz_content);if(!e)throw new Error(this.i18n.empty_content);const s=e.querySelectorAll(this.wz_step);if(!s.length)throw new Error(this.i18n.empty_content);let i,n;if(this.nav){if(i=t.querySelector(this.wz_nav),!i)throw new Error(this.i18n.empty_nav);if(n=i.querySelectorAll(this.wz_step),!n.length)throw new Error(this.i18n.empty_nav);if(n.length!==s.length)throw new Error(this.i18n.diff_steps)}this.steps=s.length,this.prefabSteps(s,i,n)}onClick(t){const e=document.querySelector(this.wz_class);if(this.locked&&this.locked_step===this.getCurrentStep())return void e.dispatchEvent(new Event(\"wz.lock\",{bubbles:this.bubbles}));const s=t.closest(this.wz_class),i=s.querySelector(this.wz_nav),n=s.querySelector(this.wz_content),r=t.classList.contains(this.wz_button.replace(\".\",\"\")),o=t.classList.contains(this.wz_step.replace(\".\",\"\"));let a=t.getAttribute(\"data-wz-step\");a=null!==a?parseInt(a):this.getCurrentStep(),r&&(t.classList.contains(this.wz_prev.replace(\".\",\"\"))?(a-=1,e.dispatchEvent(new Event(\"wz.btn.prev\",{bubbles:this.bubbles}))):t.classList.contains(this.wz_next.replace(\".\",\"\"))&&(a+=1,e.dispatchEvent(new Event(\"wz.btn.next\",{bubbles:this.bubbles}))));const c=a>this.getCurrentStep();if(o&&(c?e.dispatchEvent(new Event(\"wz.nav.forward\",{bubbles:this.bubbles})):a<this.getCurrentStep()&&e.dispatchEvent(new Event(\"wz.nav.backward\",{bubbles:this.bubbles}))),this.form&&\"buttons\"!==this.navigation&&c&&a!==this.getCurrentStep()+1&&(a=a>=this.last_step?this.last_step:this.getCurrentStep()+1),this.form){const t=this.checkForm();if(t.error&&(c&&e.dispatchEvent(new CustomEvent(\"wz.error\",{bubbles:this.bubbles,detail:{id:\"form_validation\",msg:this.i18n.form_validation,target:t.target}})),this.last_step=this.getCurrentStep(),this.getCurrentStep()<a))return}if(null!=a&&this.setCurrentStep(a),this.buttons){const t=s.querySelector(this.wz_buttons),e=t.querySelector(`${this.wz_button}${this.wz_next}`),i=t.querySelector(`${this.wz_button}${this.wz_prev}`),n=t.querySelector(`${this.wz_button}${this.wz_finish}`);this.checkButtons(e,i,n)}if(this.nav){i.querySelectorAll(this.wz_step).forEach((t=>t.classList.remove(\"active\"))),i.querySelector(`${this.wz_step}[data-wz-step=\"${this.getCurrentStep()}\"]`).classList.add(\"active\")}n.querySelectorAll(this.wz_step).forEach((t=>t.classList.remove(\"active\"))),n.querySelector(`${this.wz_step}[data-wz-step=\"${this.getCurrentStep()}\"]`).classList.add(\"active\")}onClickFinish(){if(this.form){this.checkForm().error||document.querySelector(this.wz_class).dispatchEvent(new Event(\"wz.form.submit\",{bubbles:this.bubbles}))}else document.querySelector(this.wz_class).dispatchEvent(new Event(\"wz.end\",{bubbles:this.bubbles}))}setCurrentStep(t){this.current_step=this.setStep(t)}getCurrentStep(){return this.current_step}setStep(t){const e=document.querySelector(this.wz_class).querySelector(this.wz_content);if(!e.querySelector(`${this.wz_step}[data-wz-step=\"${t}\"]`)){const s=e.querySelectorAll(this.wz_step).length-1;t=Math.min(s,t)}return this.last_step=Math.max(t,this.last_step),parseInt(t,10)}setNavEvent(){document.querySelector(this.wz_class).addEventListener(\"click\",(t=>{const e=t.target.closest(`${this.wz_nav} ${this.wz_step}`);e&&(t.preventDefault(),this.onClick(e))}))}setBtnEvent(){document.querySelector(this.wz_class).addEventListener(\"click\",(t=>{const e=t.target.closest(`${this.wz_buttons} ${this.wz_button}`);e&&(t.preventDefault(),e.classList.contains(this.wz_finish.replace(\".\",\"\"))?this.onClickFinish():this.onClick(e))}))}formValidator(t,e){let s=!1;const i=[];return e.forEach((e=>{let n=e.required||e.classList.contains(\"required\");const r=e.classList.contains(\"on-active-required\"),o=e.getAttribute(\"data-require-if\");if(o){const[e,s]=o.split(\":\"),i=t.querySelector(`#${e}`);if(i){(\"checkbox\"===i.type||\"radio\"===i.type?i.checked:i.value)===s&&(n=!0)}}let a=!0;(n||r)&&(a=this.validateField(e),a||(s=!0,i.push(e),this.highlight&&this.highlightElement(e,this.highlight_type.error)))})),{error:s,target:i}}validateField(t){switch(t.tagName){case\"INPUT\":return\"checkbox\"===t.type||\"radio\"===t.type?t.checked:\"\"!==t.value.trim();case\"SELECT\":case\"TEXTAREA\":return\"\"!==t.value.trim();default:return!0}}highlightElement(t,e){t.classList.add(this.wz_highlight.replace(\".\",\"\"),e),setTimeout((()=>{t.classList.remove(this.wz_highlight.replace(\".\",\"\"),e)}),this.highlight_time)}};return e=e.default}()}));","import Wizard from \"@adrii_/wizard-js\"\n\nlet wz_class = \".wizard\";\n\ndocument.addEventListener(\"wz.ready\", function (e) {\n  console.log(\"My body is ready\");\n\n  console.log(`↓ Target ↓`);\n  console.log(e.detail.target);\n\n  console.log(`↓ Elem ↓`);\n  console.log(e.detail.elem);\n});\n\nconst args = {\n  \"wz_class\": \".wizard\",\n  \"wz_nav_style\": \"dots\",\n  \"wz_button_style\": \".btn .btn-sm .mx-3\",\n  \"wz_ori\": \"vertical\",\n  \"buttons\": true,\n  \"navigation\": 'all',\n  \"finish\": \"Save iie!\",\n  \"bubble\": true,\n};\n\nconst wizard = new Wizard(args);\nwizard.init();\n\ndocument.getElementById(\"btn_reset\").onclick = function () {\n  wizard.reset();\n};\n\ndocument.getElementById(\"btn_lock\").onclick = function () {\n  wizard.lock();\n};\n\ndocument.getElementById(\"btn_unlock\").onclick = function () {\n  wizard.unlock();\n};\n\nlet $wz_doc = document.querySelector(wz_class);\n\n$wz_doc.addEventListener(\"wz.btn.prev\", function (e) {\n  console.log(\"Prev Step\");\n});\n\n$wz_doc.addEventListener(\"wz.btn.next\", function (e) {\n  console.log(\"Next Step\");\n});\n\n$wz_doc.addEventListener(\"wz.nav.forward\", function (e) {\n  console.log(\"Forward Nav\");\n});\n\n$wz_doc.addEventListener(\"wz.nav.backward\", function (e) {\n  console.log(\"Backward Nav\");\n});\n\n$wz_doc.addEventListener(\"wz.form.submit\", function (e) {\n  alert(\"Form Submit\");\n});\n\n$wz_doc.addEventListener(\"wz.end\", function (e) {\n  alert(\"Wizard End\");\n});\n\n$wz_doc.addEventListener(\"wz.error\", function (e) {\n  console.log(`↓ ID ↓`)\n  console.log(e.detail.id) // form_validaton\n\n  console.log(`↓ Message ↓`)\n  console.log(e.detail.msg) //options.i18n.form_validation\n});\n\n$wz_doc.addEventListener(\"wz.lock\", function (e) {\n  alert(\"Wizard locked\");\n});\n\n$wz_doc.addEventListener(\"wz.unlock\", function (e) {\n  alert(\"Wizard unlocked\");\n});\n\n$wz_doc.addEventListener(\"wz.reset\", function (e) {\n  document.getElementById(\"formWizard\").reset();\n  alert(\"Wizard has restarted\");\n});\n\n$wz_doc.addEventListener(\"wz.update\", function (e) {\n  alert(\"The Wizard has been updated !\");\n  console.log(`↓ Target ↓`)\n  console.log(e.detail.target) // .wizard\n\n  console.log(`↓ DOM Elem ↓`)\n  console.log(e.detail.elem) // DOM form#wizard.wizard.horizontal\n});\n\n\ndocument.getElementById(\"btn_append\").onclick = function () {\n  setStep(wizard);\n};\n\nfunction setStep(wizard) {\n  const html = `<div class=\"card card-body m-4 wizard-step\" data-id=\"patata\" data-title=\"Adrii\"> <label class=\"question\"> Embedded step </label> <input type=\"text\" maxlength=\"100\" name=\"patata\" class=\"form-control required\" placeholder=\"Embedded step\"> </div>`;\n\n  const wz = document.querySelector(wizard.wz_class);\n  const wz_content = wz.querySelector(wizard.wz_content);\n\n  let target = wz_content.querySelector(`${wizard.wz_step}[data-wz-step=\"2\"]`);\n\n  target.insertAdjacentHTML(\"beforebegin\", html);\n\n  wizard.update();\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGFkcmlpXy93aXphcmQtanMvZGlzdC9pbmRleC5qcyIsInNyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOzs7O0FDQUEsSUFBQSxTQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBO0FBQXNDLFNBQUEsdUJBQUEsQ0FBQSxXQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsVUFBQSxHQUFBLENBQUEsZ0JBQUEsQ0FBQTtBQUV0QyxJQUFJLFFBQVEsR0FBRyxTQUFTO0FBRXhCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEVBQUU7RUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztFQUUvQixPQUFPLENBQUMsR0FBRyx1QkFBYSxDQUFDO0VBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFFNUIsT0FBTyxDQUFDLEdBQUcscUJBQVcsQ0FBQztFQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLElBQU0sSUFBSSxHQUFHO0VBQ1gsVUFBVSxFQUFFLFNBQVM7RUFDckIsY0FBYyxFQUFFLE1BQU07RUFDdEIsaUJBQWlCLEVBQUUsb0JBQW9CO0VBQ3ZDLFFBQVEsRUFBRSxVQUFVO0VBQ3BCLFNBQVMsRUFBRSxJQUFJO0VBQ2YsWUFBWSxFQUFFLEtBQUs7RUFDbkIsUUFBUSxFQUFFLFdBQVc7RUFDckIsUUFBUSxFQUFFO0FBQ1osQ0FBQztBQUVELElBQU0sTUFBTSxHQUFHLElBQUksb0JBQU0sQ0FBQyxJQUFJLENBQUM7QUFDL0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRWIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLEdB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QUFjLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxHQUFHLFlBQVk7RUFDMUQsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUNqQixDQUFDO0FBRUQsU0FBUyxPQUFPLENBQUMsTUFBTSxFQUFFO0VBQ3ZCLElBQU0sSUFBSSwwUUFBd1A7RUFFbFEsSUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0VBQ2xELElBQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztFQUV0RCxJQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsYUFBYSxJQUFBLE1BQUEsQ0FBSSxNQUFNLENBQUMsT0FBTyx5QkFBb0IsQ0FBQztFQUU1RSxNQUFNLENBQUMsa0JBQWtCLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQztFQUU5QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIldpemFyZFwiLFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuV2l6YXJkPWUoKTp0LldpemFyZD1lKCl9KHRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9e2Q6ZnVuY3Rpb24oZSxzKXtmb3IodmFyIGkgaW4gcyl0Lm8ocyxpKSYmIXQubyhlLGkpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHtlbnVtZXJhYmxlOiEwLGdldDpzW2ldfSl9LG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9fSxlPXt9O3QuZChlLHtkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSk7dmFyIHM9Y2xhc3N7Y29uc3RydWN0b3IoKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5vcHRpb25zPXt3el9jbGFzczpcIi53aXphcmRcIix3el9uYXY6XCIud2l6YXJkLW5hdlwiLHd6X29yaTpcIi5ob3Jpem9udGFsXCIsd3pfbmF2X3N0eWxlOlwiZG90c1wiLHd6X2NvbnRlbnQ6XCIud2l6YXJkLWNvbnRlbnRcIix3el9idXR0b25zOlwiLndpemFyZC1idXR0b25zXCIsd3pfYnV0dG9uOlwiLndpemFyZC1idG5cIix3el9idXR0b25fc3R5bGU6XCIuYnRuXCIsd3pfc3RlcDpcIi53aXphcmQtc3RlcFwiLHd6X2Zvcm06XCIud2l6YXJkLWZvcm1cIix3el9uZXh0OlwiLm5leHRcIix3el9wcmV2OlwiLnByZXZcIix3el9maW5pc2g6XCIuZmluaXNoXCIsd3pfaGlnaGxpZ2h0OlwiLmhpZ2hsaWdodC1lcnJvclwiLGJ1YmJsZXM6ITEsbmF2OiEwLGJ1dHRvbnM6ITAsaGlnaGxpZ2h0OiEwLGN1cnJlbnRfc3RlcDowLHN0ZXBzOjAsaGlnaGxpZ2h0X3RpbWU6MWUzLG5hdmlnYXRpb246XCJhbGxcIixuZXh0OlwiTmV4dFwiLHByZXY6XCJQcmV2XCIsZmluaXNoOlwiU3VibWl0XCIsaGlnaGxpZ2h0X3R5cGU6e2Vycm9yOlwiZXJyb3JcIix3YXJuaW5nOlwid2FybmluZ1wiLHN1Y2Nlc3M6XCJzdWNjZXNzXCIsaW5mbzpcImluZm9cIn0saTE4bjp7ZW1wdHlfd3o6XCJObyBpdGVtIGhhcyBiZWVuIGZvdW5kIHdpdGggd2hpY2ggdG8gZ2VuZXJhdGUgdGhlIFdpemFyZC5cIixlbXB0eV9uYXY6XCJOYXYgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHkuXCIsZW1wdHlfY29udGVudDpcIkNvbnRlbnQgZG9lcyBub3QgZXhpc3Qgb3IgaXMgZW1wdHkuXCIsZW1wdHlfaHRtbDpcIlVuZGVmaW5lZCBvciBudWxsIGNvbnRlbnQgY2Fubm90IGJlIGFkZGVkLlwiLGVtcHR5X3VwZGF0ZTpcIk5vdGhpbmcgdG8gdXBkYXRlLlwiLG5vX25hdjpcIkJvdGggdGhlIG5hdiBhbmQgdGhlIGJ1dHRvbnMgYXJlIGRpc2FibGVkLCB0aGVyZSBpcyBubyBuYXZpZ2F0aW9uIHN5c3RlbS5cIixmb3JtX3ZhbGlkYXRpb246XCJPbmUgb3IgbW9yZSBvZiB0aGUgZm9ybSBmaWVsZHMgYXJlIGludmFsaWQuXCIsZGlmZl9zdGVwczpcIkRpc2NvcmRhbmNlIGJldHdlZW4gdGhlIHN0ZXBzIG9mIG5hdiBhbmQgY29udGVudC5cIixyYW5kb206XCJUaGVyZSBoYXMgYmVlbiBhIHByb2JsZW0sIGNoZWNrIHRoZSBjb25maWd1cmF0aW9uIGFuZCB1c2Ugb2YgdGhlIHdpemFyZC5cIixhbHJlYWR5X2RlZmluZWQ6XCJUaGlzIGl0ZW0gaXMgYWxyZWFkeSBkZWZpbmVkXCIsdGl0bGU6XCJTdGVwXCJ9LC4uLnR9O2NvbnN0e3d6X2NsYXNzOmUsd3pfbmF2OnMsd3pfb3JpOmksd3pfbmF2X3N0eWxlOm4sd3pfY29udGVudDpyLHd6X2J1dHRvbnM6byx3el9idXR0b246YSx3el9idXR0b25fc3R5bGU6Yyx3el9zdGVwOmgsd3pfZm9ybTpsLHd6X25leHQ6dSx3el9wcmV2OmQsd3pfZmluaXNoOnAsd3pfaGlnaGxpZ2h0OncsbmF2Ol8sYnV0dG9uczpiLGhpZ2hsaWdodDp6LGhpZ2hsaWdodF90aW1lOnYsaGlnaGxpZ2h0X3R5cGU6bSxjdXJyZW50X3N0ZXA6ZixzdGVwczp5LG5hdmlnYXRpb246ZyxwcmV2OlMsbmV4dDpFLGZpbmlzaDpxLGkxOG46TCxidWJibGVzOmt9PXRoaXMub3B0aW9ucztPYmplY3QuYXNzaWduKHRoaXMse3d6X2NsYXNzOmUsd3pfbmF2OnMsd3pfb3JpOmksd3pfbmF2X3N0eWxlOm4sd3pfY29udGVudDpyLHd6X2J1dHRvbnM6byx3el9idXR0b246YSx3el9idXR0b25fc3R5bGU6Yyx3el9zdGVwOmgsd3pfZm9ybTpsLHd6X25leHQ6dSx3el9wcmV2OmQsd3pfZmluaXNoOnAsd3pfaGlnaGxpZ2h0OncsbmF2Ol8sYnV0dG9uczpiLGhpZ2hsaWdodDp6LGhpZ2hsaWdodF90aW1lOnYsaGlnaGxpZ2h0X3R5cGU6bSxjdXJyZW50X3N0ZXA6ZixzdGVwczp5LG5hdmlnYXRpb246ZyxwcmV2OlMsbmV4dDpFLGZpbmlzaDpxLGkxOG46TCxsYXN0X3N0ZXA6Zixmb3JtOiExLGxvY2tlZDohMSxsb2NrZWRfc3RlcDpudWxsfSl9aW5pdCgpe3RyeXtjb25zdCB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9jbGFzcyk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKHRoaXMuaTE4bi5lbXB0eV93eik7aWYoXCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImRhdGEtd3otbG9hZFwiKSlyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oYCR7dGhpcy53el9jbGFzc30gOiAke3RoaXMuaTE4bi5hbHJlYWR5X2RlZmluZWR9YCk7Y29uc3QgZT10O3N3aXRjaCh0aGlzLmJ1dHRvbnN8fHRoaXMubmF2fHxjb25zb2xlLndhcm4odGhpcy5pMThuLm5vX25hdiksZS5jbGFzc0xpc3QuYWRkKHRoaXMud3pfb3JpLnJlcGxhY2UoXCIuXCIsXCJcIikpLFwiRk9STVwiPT09ZS50YWdOYW1lJiYodGhpcy5mb3JtPSEwKSx0aGlzLmNoZWNrQW5kUHJlcGFyZShlKSx0aGlzLm5hdmlnYXRpb24pe2Nhc2VcImFsbFwiOmNhc2VcIm5hdlwiOnRoaXMuc2V0TmF2RXZlbnQoKSx0aGlzLnNldEJ0bkV2ZW50KCk7YnJlYWs7Y2FzZVwiYnV0dG9uc1wiOnRoaXMuc2V0QnRuRXZlbnQoKX1lLnN0eWxlLmRpc3BsYXk9ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJ2ZXJ0aWNhbFwiKT9cImZsZXhcIjpcImJsb2NrXCIsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXd6LWxvYWRcIixcInRydWVcIiksZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJ3ei5yZWFkeVwiLHtidWJibGVzOnRoaXMuYnViYmxlcyxkZXRhaWw6e3RhcmdldDp0aGlzLnd6X2NsYXNzLGVsZW06ZX19KSl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcih0KX19dXBkYXRlKCl7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpO2lmKCF0KXRocm93IG5ldyBFcnJvcih0aGlzLmkxOG4uZW1wdHlfd3opO2lmKFwidHJ1ZVwiIT09dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXd6LWxvYWRcIikpdGhyb3cgbmV3IEVycm9yKHRoaXMuaTE4bi5lbXB0eV93eik7dGhpcy5jaGVja0FuZFByZXBhcmUodCksdGhpcy5jb250ZW50X3VwZGF0ZT0hMSx0LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwid3oudXBkYXRlXCIse2J1YmJsZXM6dGhpcy5idWJibGVzLGRldGFpbDp7dGFyZ2V0OnRoaXMud3pfY2xhc3MsZWxlbTp0fX0pKX1yZXNldCgpe3RoaXMuc2V0Q3VycmVudFN0ZXAoMCk7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpLGU9dC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfbmF2KSxzPXQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NvbnRlbnQpO2lmKHRoaXMuYnV0dG9ucyl7Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9idXR0b25zKSxzPWUucXVlcnlTZWxlY3RvcihgJHt0aGlzLnd6X2J1dHRvbn0ke3RoaXMud3pfbmV4dH1gKSxpPWUucXVlcnlTZWxlY3RvcihgJHt0aGlzLnd6X2J1dHRvbn0ke3RoaXMud3pfcHJldn1gKSxuPWUucXVlcnlTZWxlY3RvcihgJHt0aGlzLnd6X2J1dHRvbn0ke3RoaXMud3pfZmluaXNofWApO3RoaXMuY2hlY2tCdXR0b25zKHMsaSxuKX1pZih0aGlzLm5hdil7ZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMud3pfc3RlcCkuZm9yRWFjaCgodD0+dC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKSksZS5xdWVyeVNlbGVjdG9yKGAke3RoaXMud3pfc3RlcH1bZGF0YS13ei1zdGVwPVwiJHt0aGlzLmdldEN1cnJlbnRTdGVwKCl9XCJdYCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX1zLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy53el9zdGVwKS5mb3JFYWNoKCh0PT50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpKSxzLnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy53el9zdGVwfVtkYXRhLXd6LXN0ZXA9XCIke3RoaXMuZ2V0Q3VycmVudFN0ZXAoKX1cIl1gKS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpLHQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ3ei5yZXNldFwiLHtidWJibGVzOnRoaXMuYnViYmxlc30pKX1sb2NrKCl7dGhpcy5sb2NrZWQ9ITAsdGhpcy5sb2NrZWRfc3RlcD10aGlzLmdldEN1cnJlbnRTdGVwKCl9dW5sb2NrKCl7dGhpcy5sb2NrZWQ9ITEsdGhpcy5sb2NrZWRfc3RlcD1udWxsLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9jbGFzcykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ3ei51bmxvY2tcIix7YnViYmxlczp0aGlzLmJ1YmJsZXN9KSl9cHJlZmFiU3RlcHModCxlLHMpe2NvbnN0IGk9dGhpcy5nZXRDdXJyZW50U3RlcCgpO3QuZm9yRWFjaCgoKHQsZSk9Pnt0LnNldEF0dHJpYnV0ZShcImRhdGEtd3otc3RlcFwiLGUpLHRoaXMubmF2JiZzW2VdLnNldEF0dHJpYnV0ZShcImRhdGEtd3otc3RlcFwiLGUpfSkpLHRoaXMubmF2JiYocy5mb3JFYWNoKCh0PT50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpKSxzW2ldLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIiksZS5jbGFzc0xpc3QuYWRkKHRoaXMud3pfbmF2X3N0eWxlKSksdC5mb3JFYWNoKCh0PT50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIikpKSx0W2ldLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIiksdGhpcy5zZXRCdXR0b25zKCl9dXBkYXRlVG9Gb3JtKCl7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpLGU9dC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY29udGVudCk7aWYoXCJGT1JNXCIhPT1lLnRhZ05hbWUpe2NvbnN0IHM9ZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxpPWUuaW5uZXJIVE1MO2UucmVtb3ZlKCk7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtuLnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLFwiUE9TVFwiKSxuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYCR7c30gJHt0aGlzLnd6X2Zvcm0ucmVwbGFjZShcIi5cIixcIlwiKX1gKSxuLmlubmVySFRNTD1pLHQuYXBwZW5kQ2hpbGQobil9fWNoZWNrRm9ybSgpe2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NsYXNzKS5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY29udGVudCksZT10LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy53el9zdGVwKVt0aGlzLmdldEN1cnJlbnRTdGVwKCldLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiKTtyZXR1cm4gZS5sZW5ndGg+MD90aGlzLmZvcm1WYWxpZGF0b3IodCxlKTp7ZXJyb3I6ITF9fXNldE5hdih0KXtsZXQgZT10LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9uYXYpO2lmKGUmJnRoaXMubmF2JiYoZS5yZW1vdmUoKSxlPW51bGwpLCFlJiZ0aGlzLm5hdil7Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9jb250ZW50KS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMud3pfc3RlcCkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXNpZGVcIik7cy5jbGFzc0xpc3QuYWRkKHRoaXMud3pfbmF2LnJlcGxhY2UoXCIuXCIsXCJcIikpLGUuZm9yRWFjaCgoKHQsZSk9Pntjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj10LmdldEF0dHJpYnV0ZShcImRhdGEtd3otdGl0bGVcIil8fGAke3RoaXMuaTE4bi50aXRsZX0gJHtlfWA7aS5jbGFzc0xpc3QuYWRkKHRoaXMud3pfc3RlcC5yZXBsYWNlKFwiLlwiLFwiXCIpKSxcImJ1dHRvbnNcIj09PXRoaXMubmF2aWdhdGlvbiYmaS5jbGFzc0xpc3QuYWRkKFwibmF2LWJ1dHRvbnNcIik7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTGlzdC5hZGQoXCJkb3RcIiksaS5hcHBlbmRDaGlsZChyKTtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO28uaW5uZXJIVE1MPW4saS5hcHBlbmRDaGlsZChvKSxzLmFwcGVuZENoaWxkKGkpfSkpLHQucHJlcGVuZChzKX19c2V0QnV0dG9ucygpe2NvbnN0IHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NsYXNzKTtsZXQgZT10LnF1ZXJ5U2VsZWN0b3IodGhpcy53el9idXR0b25zKTtpZihlJiZ0aGlzLmJ1dHRvbnMmJihlLnJlbW92ZSgpLGU9bnVsbCksIWUmJnRoaXMuYnV0dG9ucyl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXNpZGVcIik7ZS5jbGFzc0xpc3QuYWRkKHRoaXMud3pfYnV0dG9ucy5yZXBsYWNlKFwiLlwiLFwiXCIpKTtjb25zdCBzPXRoaXMud3pfYnV0dG9uX3N0eWxlLnJlcGxhY2UoL1xcLi9nLFwiXCIpLnNwbGl0KFwiIFwiKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7aS5pbm5lckhUTUw9dGhpcy5wcmV2LGkuY2xhc3NMaXN0LmFkZCh0aGlzLnd6X2J1dHRvbi5yZXBsYWNlKFwiLlwiLFwiXCIpLC4uLnMsdGhpcy53el9wcmV2LnJlcGxhY2UoXCIuXCIsXCJcIikpLFwibmF2XCI9PT10aGlzLm5hdmlnYXRpb24mJihpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLGUuYXBwZW5kQ2hpbGQoaSk7Y29uc3Qgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO24uaW5uZXJIVE1MPXRoaXMubmV4dCxuLmNsYXNzTGlzdC5hZGQodGhpcy53el9idXR0b24ucmVwbGFjZShcIi5cIixcIlwiKSwuLi5zLHRoaXMud3pfbmV4dC5yZXBsYWNlKFwiLlwiLFwiXCIpKSxcIm5hdlwiPT09dGhpcy5uYXZpZ2F0aW9uJiYobi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxlLmFwcGVuZENoaWxkKG4pO2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyLmlubmVySFRNTD10aGlzLmZpbmlzaCxyLmNsYXNzTGlzdC5hZGQodGhpcy53el9idXR0b24ucmVwbGFjZShcIi5cIixcIlwiKSwuLi5zLHRoaXMud3pfZmluaXNoLnJlcGxhY2UoXCIuXCIsXCJcIikpLGUuYXBwZW5kQ2hpbGQociksdGhpcy5jaGVja0J1dHRvbnMobixpLHIpLHQuYXBwZW5kQ2hpbGQoZSl9fWNoZWNrQnV0dG9ucyh0LGUscyl7Y29uc3QgaT10aGlzLmdldEN1cnJlbnRTdGVwKCksbj10aGlzLnN0ZXBzLTE7MD09PWk/ZS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTplLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLGk9PT1uPyh0LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJ0cnVlXCIpLHMuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpOihzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSl9Y2hlY2tBbmRQcmVwYXJlKHQpe3RoaXMuc2V0TmF2KHQpO2NvbnN0IGU9dC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY29udGVudCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHRoaXMuaTE4bi5lbXB0eV9jb250ZW50KTtjb25zdCBzPWUucXVlcnlTZWxlY3RvckFsbCh0aGlzLnd6X3N0ZXApO2lmKCFzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IodGhpcy5pMThuLmVtcHR5X2NvbnRlbnQpO2xldCBpLG47aWYodGhpcy5uYXYpe2lmKGk9dC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfbmF2KSwhaSl0aHJvdyBuZXcgRXJyb3IodGhpcy5pMThuLmVtcHR5X25hdik7aWYobj1pLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy53el9zdGVwKSwhbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKHRoaXMuaTE4bi5lbXB0eV9uYXYpO2lmKG4ubGVuZ3RoIT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKHRoaXMuaTE4bi5kaWZmX3N0ZXBzKX10aGlzLnN0ZXBzPXMubGVuZ3RoLHRoaXMucHJlZmFiU3RlcHMocyxpLG4pfW9uQ2xpY2sodCl7Y29uc3QgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpO2lmKHRoaXMubG9ja2VkJiZ0aGlzLmxvY2tlZF9zdGVwPT09dGhpcy5nZXRDdXJyZW50U3RlcCgpKXJldHVybiB2b2lkIGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ3ei5sb2NrXCIse2J1YmJsZXM6dGhpcy5idWJibGVzfSkpO2NvbnN0IHM9dC5jbG9zZXN0KHRoaXMud3pfY2xhc3MpLGk9cy5xdWVyeVNlbGVjdG9yKHRoaXMud3pfbmF2KSxuPXMucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NvbnRlbnQpLHI9dC5jbGFzc0xpc3QuY29udGFpbnModGhpcy53el9idXR0b24ucmVwbGFjZShcIi5cIixcIlwiKSksbz10LmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnd6X3N0ZXAucmVwbGFjZShcIi5cIixcIlwiKSk7bGV0IGE9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXd6LXN0ZXBcIik7YT1udWxsIT09YT9wYXJzZUludChhKTp0aGlzLmdldEN1cnJlbnRTdGVwKCksciYmKHQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMud3pfcHJldi5yZXBsYWNlKFwiLlwiLFwiXCIpKT8oYS09MSxlLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwid3ouYnRuLnByZXZcIix7YnViYmxlczp0aGlzLmJ1YmJsZXN9KSkpOnQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMud3pfbmV4dC5yZXBsYWNlKFwiLlwiLFwiXCIpKSYmKGErPTEsZS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInd6LmJ0bi5uZXh0XCIse2J1YmJsZXM6dGhpcy5idWJibGVzfSkpKSk7Y29uc3QgYz1hPnRoaXMuZ2V0Q3VycmVudFN0ZXAoKTtpZihvJiYoYz9lLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwid3oubmF2LmZvcndhcmRcIix7YnViYmxlczp0aGlzLmJ1YmJsZXN9KSk6YTx0aGlzLmdldEN1cnJlbnRTdGVwKCkmJmUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJ3ei5uYXYuYmFja3dhcmRcIix7YnViYmxlczp0aGlzLmJ1YmJsZXN9KSkpLHRoaXMuZm9ybSYmXCJidXR0b25zXCIhPT10aGlzLm5hdmlnYXRpb24mJmMmJmEhPT10aGlzLmdldEN1cnJlbnRTdGVwKCkrMSYmKGE9YT49dGhpcy5sYXN0X3N0ZXA/dGhpcy5sYXN0X3N0ZXA6dGhpcy5nZXRDdXJyZW50U3RlcCgpKzEpLHRoaXMuZm9ybSl7Y29uc3QgdD10aGlzLmNoZWNrRm9ybSgpO2lmKHQuZXJyb3ImJihjJiZlLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwid3ouZXJyb3JcIix7YnViYmxlczp0aGlzLmJ1YmJsZXMsZGV0YWlsOntpZDpcImZvcm1fdmFsaWRhdGlvblwiLG1zZzp0aGlzLmkxOG4uZm9ybV92YWxpZGF0aW9uLHRhcmdldDp0LnRhcmdldH19KSksdGhpcy5sYXN0X3N0ZXA9dGhpcy5nZXRDdXJyZW50U3RlcCgpLHRoaXMuZ2V0Q3VycmVudFN0ZXAoKTxhKSlyZXR1cm59aWYobnVsbCE9YSYmdGhpcy5zZXRDdXJyZW50U3RlcChhKSx0aGlzLmJ1dHRvbnMpe2NvbnN0IHQ9cy5xdWVyeVNlbGVjdG9yKHRoaXMud3pfYnV0dG9ucyksZT10LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy53el9idXR0b259JHt0aGlzLnd6X25leHR9YCksaT10LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy53el9idXR0b259JHt0aGlzLnd6X3ByZXZ9YCksbj10LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy53el9idXR0b259JHt0aGlzLnd6X2ZpbmlzaH1gKTt0aGlzLmNoZWNrQnV0dG9ucyhlLGksbil9aWYodGhpcy5uYXYpe2kucXVlcnlTZWxlY3RvckFsbCh0aGlzLnd6X3N0ZXApLmZvckVhY2goKHQ9PnQuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSkpLGkucXVlcnlTZWxlY3RvcihgJHt0aGlzLnd6X3N0ZXB9W2RhdGEtd3otc3RlcD1cIiR7dGhpcy5nZXRDdXJyZW50U3RlcCgpfVwiXWApLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIil9bi5xdWVyeVNlbGVjdG9yQWxsKHRoaXMud3pfc3RlcCkuZm9yRWFjaCgodD0+dC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKSksbi5xdWVyeVNlbGVjdG9yKGAke3RoaXMud3pfc3RlcH1bZGF0YS13ei1zdGVwPVwiJHt0aGlzLmdldEN1cnJlbnRTdGVwKCl9XCJdYCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKX1vbkNsaWNrRmluaXNoKCl7aWYodGhpcy5mb3JtKXt0aGlzLmNoZWNrRm9ybSgpLmVycm9yfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwid3ouZm9ybS5zdWJtaXRcIix7YnViYmxlczp0aGlzLmJ1YmJsZXN9KSl9ZWxzZSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY2xhc3MpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwid3ouZW5kXCIse2J1YmJsZXM6dGhpcy5idWJibGVzfSkpfXNldEN1cnJlbnRTdGVwKHQpe3RoaXMuY3VycmVudF9zdGVwPXRoaXMuc2V0U3RlcCh0KX1nZXRDdXJyZW50U3RlcCgpe3JldHVybiB0aGlzLmN1cnJlbnRfc3RlcH1zZXRTdGVwKHQpe2NvbnN0IGU9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NsYXNzKS5xdWVyeVNlbGVjdG9yKHRoaXMud3pfY29udGVudCk7aWYoIWUucXVlcnlTZWxlY3RvcihgJHt0aGlzLnd6X3N0ZXB9W2RhdGEtd3otc3RlcD1cIiR7dH1cIl1gKSl7Y29uc3Qgcz1lLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy53el9zdGVwKS5sZW5ndGgtMTt0PU1hdGgubWluKHMsdCl9cmV0dXJuIHRoaXMubGFzdF9zdGVwPU1hdGgubWF4KHQsdGhpcy5sYXN0X3N0ZXApLHBhcnNlSW50KHQsMTApfXNldE5hdkV2ZW50KCl7ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NsYXNzKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwodD0+e2NvbnN0IGU9dC50YXJnZXQuY2xvc2VzdChgJHt0aGlzLnd6X25hdn0gJHt0aGlzLnd6X3N0ZXB9YCk7ZSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLm9uQ2xpY2soZSkpfSkpfXNldEJ0bkV2ZW50KCl7ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnd6X2NsYXNzKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwodD0+e2NvbnN0IGU9dC50YXJnZXQuY2xvc2VzdChgJHt0aGlzLnd6X2J1dHRvbnN9ICR7dGhpcy53el9idXR0b259YCk7ZSYmKHQucHJldmVudERlZmF1bHQoKSxlLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnd6X2ZpbmlzaC5yZXBsYWNlKFwiLlwiLFwiXCIpKT90aGlzLm9uQ2xpY2tGaW5pc2goKTp0aGlzLm9uQ2xpY2soZSkpfSkpfWZvcm1WYWxpZGF0b3IodCxlKXtsZXQgcz0hMTtjb25zdCBpPVtdO3JldHVybiBlLmZvckVhY2goKGU9PntsZXQgbj1lLnJlcXVpcmVkfHxlLmNsYXNzTGlzdC5jb250YWlucyhcInJlcXVpcmVkXCIpO2NvbnN0IHI9ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJvbi1hY3RpdmUtcmVxdWlyZWRcIiksbz1lLmdldEF0dHJpYnV0ZShcImRhdGEtcmVxdWlyZS1pZlwiKTtpZihvKXtjb25zdFtlLHNdPW8uc3BsaXQoXCI6XCIpLGk9dC5xdWVyeVNlbGVjdG9yKGAjJHtlfWApO2lmKGkpeyhcImNoZWNrYm94XCI9PT1pLnR5cGV8fFwicmFkaW9cIj09PWkudHlwZT9pLmNoZWNrZWQ6aS52YWx1ZSk9PT1zJiYobj0hMCl9fWxldCBhPSEwOyhufHxyKSYmKGE9dGhpcy52YWxpZGF0ZUZpZWxkKGUpLGF8fChzPSEwLGkucHVzaChlKSx0aGlzLmhpZ2hsaWdodCYmdGhpcy5oaWdobGlnaHRFbGVtZW50KGUsdGhpcy5oaWdobGlnaHRfdHlwZS5lcnJvcikpKX0pKSx7ZXJyb3I6cyx0YXJnZXQ6aX19dmFsaWRhdGVGaWVsZCh0KXtzd2l0Y2godC50YWdOYW1lKXtjYXNlXCJJTlBVVFwiOnJldHVyblwiY2hlY2tib3hcIj09PXQudHlwZXx8XCJyYWRpb1wiPT09dC50eXBlP3QuY2hlY2tlZDpcIlwiIT09dC52YWx1ZS50cmltKCk7Y2FzZVwiU0VMRUNUXCI6Y2FzZVwiVEVYVEFSRUFcIjpyZXR1cm5cIlwiIT09dC52YWx1ZS50cmltKCk7ZGVmYXVsdDpyZXR1cm4hMH19aGlnaGxpZ2h0RWxlbWVudCh0LGUpe3QuY2xhc3NMaXN0LmFkZCh0aGlzLnd6X2hpZ2hsaWdodC5yZXBsYWNlKFwiLlwiLFwiXCIpLGUpLHNldFRpbWVvdXQoKCgpPT57dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMud3pfaGlnaGxpZ2h0LnJlcGxhY2UoXCIuXCIsXCJcIiksZSl9KSx0aGlzLmhpZ2hsaWdodF90aW1lKX19O3JldHVybiBlPWUuZGVmYXVsdH0oKX0pKTsiLCJpbXBvcnQgV2l6YXJkIGZyb20gXCJAYWRyaWlfL3dpemFyZC1qc1wiXG5cbmxldCB3el9jbGFzcyA9IFwiLndpemFyZFwiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid3oucmVhZHlcIiwgZnVuY3Rpb24gKGUpIHtcbiAgY29uc29sZS5sb2coXCJNeSBib2R5IGlzIHJlYWR5XCIpO1xuXG4gIGNvbnNvbGUubG9nKGDihpMgVGFyZ2V0IOKGk2ApO1xuICBjb25zb2xlLmxvZyhlLmRldGFpbC50YXJnZXQpO1xuXG4gIGNvbnNvbGUubG9nKGDihpMgRWxlbSDihpNgKTtcbiAgY29uc29sZS5sb2coZS5kZXRhaWwuZWxlbSk7XG59KTtcblxuY29uc3QgYXJncyA9IHtcbiAgXCJ3el9jbGFzc1wiOiBcIi53aXphcmRcIixcbiAgXCJ3el9uYXZfc3R5bGVcIjogXCJkb3RzXCIsXG4gIFwid3pfYnV0dG9uX3N0eWxlXCI6IFwiLmJ0biAuYnRuLXNtIC5teC0zXCIsXG4gIFwid3pfb3JpXCI6IFwidmVydGljYWxcIixcbiAgXCJidXR0b25zXCI6IHRydWUsXG4gIFwibmF2aWdhdGlvblwiOiAnYWxsJyxcbiAgXCJmaW5pc2hcIjogXCJTYXZlIGlpZSFcIixcbiAgXCJidWJibGVcIjogdHJ1ZSxcbn07XG5cbmNvbnN0IHdpemFyZCA9IG5ldyBXaXphcmQoYXJncyk7XG53aXphcmQuaW5pdCgpO1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bl9yZXNldFwiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICB3aXphcmQucmVzZXQoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuX2xvY2tcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgd2l6YXJkLmxvY2soKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuX3VubG9ja1wiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICB3aXphcmQudW5sb2NrKCk7XG59O1xuXG5sZXQgJHd6X2RvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iod3pfY2xhc3MpO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei5idG4ucHJldlwiLCBmdW5jdGlvbiAoZSkge1xuICBjb25zb2xlLmxvZyhcIlByZXYgU3RlcFwiKTtcbn0pO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei5idG4ubmV4dFwiLCBmdW5jdGlvbiAoZSkge1xuICBjb25zb2xlLmxvZyhcIk5leHQgU3RlcFwiKTtcbn0pO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei5uYXYuZm9yd2FyZFwiLCBmdW5jdGlvbiAoZSkge1xuICBjb25zb2xlLmxvZyhcIkZvcndhcmQgTmF2XCIpO1xufSk7XG5cbiR3el9kb2MuYWRkRXZlbnRMaXN0ZW5lcihcInd6Lm5hdi5iYWNrd2FyZFwiLCBmdW5jdGlvbiAoZSkge1xuICBjb25zb2xlLmxvZyhcIkJhY2t3YXJkIE5hdlwiKTtcbn0pO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei5mb3JtLnN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICBhbGVydChcIkZvcm0gU3VibWl0XCIpO1xufSk7XG5cbiR3el9kb2MuYWRkRXZlbnRMaXN0ZW5lcihcInd6LmVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICBhbGVydChcIldpemFyZCBFbmRcIik7XG59KTtcblxuJHd6X2RvYy5hZGRFdmVudExpc3RlbmVyKFwid3ouZXJyb3JcIiwgZnVuY3Rpb24gKGUpIHtcbiAgY29uc29sZS5sb2coYOKGkyBJRCDihpNgKVxuICBjb25zb2xlLmxvZyhlLmRldGFpbC5pZCkgLy8gZm9ybV92YWxpZGF0b25cblxuICBjb25zb2xlLmxvZyhg4oaTIE1lc3NhZ2Ug4oaTYClcbiAgY29uc29sZS5sb2coZS5kZXRhaWwubXNnKSAvL29wdGlvbnMuaTE4bi5mb3JtX3ZhbGlkYXRpb25cbn0pO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei5sb2NrXCIsIGZ1bmN0aW9uIChlKSB7XG4gIGFsZXJ0KFwiV2l6YXJkIGxvY2tlZFwiKTtcbn0pO1xuXG4kd3pfZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ei51bmxvY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgYWxlcnQoXCJXaXphcmQgdW5sb2NrZWRcIik7XG59KTtcblxuJHd6X2RvYy5hZGRFdmVudExpc3RlbmVyKFwid3oucmVzZXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtV2l6YXJkXCIpLnJlc2V0KCk7XG4gIGFsZXJ0KFwiV2l6YXJkIGhhcyByZXN0YXJ0ZWRcIik7XG59KTtcblxuJHd6X2RvYy5hZGRFdmVudExpc3RlbmVyKFwid3oudXBkYXRlXCIsIGZ1bmN0aW9uIChlKSB7XG4gIGFsZXJ0KFwiVGhlIFdpemFyZCBoYXMgYmVlbiB1cGRhdGVkICFcIik7XG4gIGNvbnNvbGUubG9nKGDihpMgVGFyZ2V0IOKGk2ApXG4gIGNvbnNvbGUubG9nKGUuZGV0YWlsLnRhcmdldCkgLy8gLndpemFyZFxuXG4gIGNvbnNvbGUubG9nKGDihpMgRE9NIEVsZW0g4oaTYClcbiAgY29uc29sZS5sb2coZS5kZXRhaWwuZWxlbSkgLy8gRE9NIGZvcm0jd2l6YXJkLndpemFyZC5ob3Jpem9udGFsXG59KTtcblxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bl9hcHBlbmRcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgc2V0U3RlcCh3aXphcmQpO1xufTtcblxuZnVuY3Rpb24gc2V0U3RlcCh3aXphcmQpIHtcbiAgY29uc3QgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWJvZHkgbS00IHdpemFyZC1zdGVwXCIgZGF0YS1pZD1cInBhdGF0YVwiIGRhdGEtdGl0bGU9XCJBZHJpaVwiPiA8bGFiZWwgY2xhc3M9XCJxdWVzdGlvblwiPiBFbWJlZGRlZCBzdGVwIDwvbGFiZWw+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG1heGxlbmd0aD1cIjEwMFwiIG5hbWU9XCJwYXRhdGFcIiBjbGFzcz1cImZvcm0tY29udHJvbCByZXF1aXJlZFwiIHBsYWNlaG9sZGVyPVwiRW1iZWRkZWQgc3RlcFwiPiA8L2Rpdj5gO1xuXG4gIGNvbnN0IHd6ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih3aXphcmQud3pfY2xhc3MpO1xuICBjb25zdCB3el9jb250ZW50ID0gd3oucXVlcnlTZWxlY3Rvcih3aXphcmQud3pfY29udGVudCk7XG5cbiAgbGV0IHRhcmdldCA9IHd6X2NvbnRlbnQucXVlcnlTZWxlY3RvcihgJHt3aXphcmQud3pfc3RlcH1bZGF0YS13ei1zdGVwPVwiMlwiXWApO1xuXG4gIHRhcmdldC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBodG1sKTtcblxuICB3aXphcmQudXBkYXRlKCk7XG59XG4iXX0="}